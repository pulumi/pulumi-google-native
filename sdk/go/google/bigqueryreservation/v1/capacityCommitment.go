// Code generated by the Pulumi SDK Generator DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package v1

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Creates a new capacity commitment resource.
// Auto-naming is currently not supported for this resource.
type CapacityCommitment struct {
	pulumi.CustomResourceState

	// The optional capacity commitment ID. Capacity commitment name will be generated automatically if this field is empty. This field must only contain lower case alphanumeric characters or dashes. The first and last character cannot be a dash. Max length is 64 characters. NOTE: this ID won't be kept if the capacity commitment is split or merged.
	CapacityCommitmentId pulumi.StringPtrOutput `pulumi:"capacityCommitmentId"`
	// The end of the current commitment period. It is applicable only for ACTIVE capacity commitments.
	CommitmentEndTime pulumi.StringOutput `pulumi:"commitmentEndTime"`
	// The start of the current commitment period. It is applicable only for ACTIVE capacity commitments.
	CommitmentStartTime pulumi.StringOutput `pulumi:"commitmentStartTime"`
	// Edition of the capacity commitment.
	Edition pulumi.StringOutput `pulumi:"edition"`
	// If true, fail the request if another project in the organization has a capacity commitment.
	EnforceSingleAdminProjectPerOrg pulumi.BoolPtrOutput `pulumi:"enforceSingleAdminProjectPerOrg"`
	// For FAILED commitment plan, provides the reason of failure.
	FailureStatus StatusResponseOutput `pulumi:"failureStatus"`
	// If true, the commitment is a flat-rate commitment, otherwise, it's an edition commitment.
	IsFlatRate pulumi.BoolOutput   `pulumi:"isFlatRate"`
	Location   pulumi.StringOutput `pulumi:"location"`
	// Applicable only for commitments located within one of the BigQuery multi-regions (US or EU). If set to true, this commitment is placed in the organization's secondary region which is designated for disaster recovery purposes. If false, this commitment is placed in the organization's default region. NOTE: this is a preview feature. Project must be allow-listed in order to set this field.
	MultiRegionAuxiliary pulumi.BoolOutput `pulumi:"multiRegionAuxiliary"`
	// The resource name of the capacity commitment, e.g., `projects/myproject/locations/US/capacityCommitments/123` The commitment_id must only contain lower case alphanumeric characters or dashes. It must start with a letter and must not end with a dash. Its maximum length is 64 characters.
	Name pulumi.StringOutput `pulumi:"name"`
	// Capacity commitment commitment plan.
	Plan    pulumi.StringOutput `pulumi:"plan"`
	Project pulumi.StringOutput `pulumi:"project"`
	// The plan this capacity commitment is converted to after commitment_end_time passes. Once the plan is changed, committed period is extended according to commitment plan. Only applicable for ANNUAL and TRIAL commitments.
	RenewalPlan pulumi.StringOutput `pulumi:"renewalPlan"`
	// Number of slots in this commitment.
	SlotCount pulumi.StringOutput `pulumi:"slotCount"`
	// State of the commitment.
	State pulumi.StringOutput `pulumi:"state"`
}

// NewCapacityCommitment registers a new resource with the given unique name, arguments, and options.
func NewCapacityCommitment(ctx *pulumi.Context,
	name string, args *CapacityCommitmentArgs, opts ...pulumi.ResourceOption) (*CapacityCommitment, error) {
	if args == nil {
		args = &CapacityCommitmentArgs{}
	}

	replaceOnChanges := pulumi.ReplaceOnChanges([]string{
		"location",
		"project",
	})
	opts = append(opts, replaceOnChanges)
	var resource CapacityCommitment
	err := ctx.RegisterResource("google-native:bigqueryreservation/v1:CapacityCommitment", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetCapacityCommitment gets an existing CapacityCommitment resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetCapacityCommitment(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *CapacityCommitmentState, opts ...pulumi.ResourceOption) (*CapacityCommitment, error) {
	var resource CapacityCommitment
	err := ctx.ReadResource("google-native:bigqueryreservation/v1:CapacityCommitment", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering CapacityCommitment resources.
type capacityCommitmentState struct {
}

type CapacityCommitmentState struct {
}

func (CapacityCommitmentState) ElementType() reflect.Type {
	return reflect.TypeOf((*capacityCommitmentState)(nil)).Elem()
}

type capacityCommitmentArgs struct {
	// The optional capacity commitment ID. Capacity commitment name will be generated automatically if this field is empty. This field must only contain lower case alphanumeric characters or dashes. The first and last character cannot be a dash. Max length is 64 characters. NOTE: this ID won't be kept if the capacity commitment is split or merged.
	CapacityCommitmentId *string `pulumi:"capacityCommitmentId"`
	// Edition of the capacity commitment.
	Edition *CapacityCommitmentEdition `pulumi:"edition"`
	// If true, fail the request if another project in the organization has a capacity commitment.
	EnforceSingleAdminProjectPerOrg *bool   `pulumi:"enforceSingleAdminProjectPerOrg"`
	Location                        *string `pulumi:"location"`
	// Applicable only for commitments located within one of the BigQuery multi-regions (US or EU). If set to true, this commitment is placed in the organization's secondary region which is designated for disaster recovery purposes. If false, this commitment is placed in the organization's default region. NOTE: this is a preview feature. Project must be allow-listed in order to set this field.
	MultiRegionAuxiliary *bool `pulumi:"multiRegionAuxiliary"`
	// Capacity commitment commitment plan.
	Plan    *CapacityCommitmentPlan `pulumi:"plan"`
	Project *string                 `pulumi:"project"`
	// The plan this capacity commitment is converted to after commitment_end_time passes. Once the plan is changed, committed period is extended according to commitment plan. Only applicable for ANNUAL and TRIAL commitments.
	RenewalPlan *CapacityCommitmentRenewalPlan `pulumi:"renewalPlan"`
	// Number of slots in this commitment.
	SlotCount *string `pulumi:"slotCount"`
}

// The set of arguments for constructing a CapacityCommitment resource.
type CapacityCommitmentArgs struct {
	// The optional capacity commitment ID. Capacity commitment name will be generated automatically if this field is empty. This field must only contain lower case alphanumeric characters or dashes. The first and last character cannot be a dash. Max length is 64 characters. NOTE: this ID won't be kept if the capacity commitment is split or merged.
	CapacityCommitmentId pulumi.StringPtrInput
	// Edition of the capacity commitment.
	Edition CapacityCommitmentEditionPtrInput
	// If true, fail the request if another project in the organization has a capacity commitment.
	EnforceSingleAdminProjectPerOrg pulumi.BoolPtrInput
	Location                        pulumi.StringPtrInput
	// Applicable only for commitments located within one of the BigQuery multi-regions (US or EU). If set to true, this commitment is placed in the organization's secondary region which is designated for disaster recovery purposes. If false, this commitment is placed in the organization's default region. NOTE: this is a preview feature. Project must be allow-listed in order to set this field.
	MultiRegionAuxiliary pulumi.BoolPtrInput
	// Capacity commitment commitment plan.
	Plan    CapacityCommitmentPlanPtrInput
	Project pulumi.StringPtrInput
	// The plan this capacity commitment is converted to after commitment_end_time passes. Once the plan is changed, committed period is extended according to commitment plan. Only applicable for ANNUAL and TRIAL commitments.
	RenewalPlan CapacityCommitmentRenewalPlanPtrInput
	// Number of slots in this commitment.
	SlotCount pulumi.StringPtrInput
}

func (CapacityCommitmentArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*capacityCommitmentArgs)(nil)).Elem()
}

type CapacityCommitmentInput interface {
	pulumi.Input

	ToCapacityCommitmentOutput() CapacityCommitmentOutput
	ToCapacityCommitmentOutputWithContext(ctx context.Context) CapacityCommitmentOutput
}

func (*CapacityCommitment) ElementType() reflect.Type {
	return reflect.TypeOf((**CapacityCommitment)(nil)).Elem()
}

func (i *CapacityCommitment) ToCapacityCommitmentOutput() CapacityCommitmentOutput {
	return i.ToCapacityCommitmentOutputWithContext(context.Background())
}

func (i *CapacityCommitment) ToCapacityCommitmentOutputWithContext(ctx context.Context) CapacityCommitmentOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CapacityCommitmentOutput)
}

type CapacityCommitmentOutput struct{ *pulumi.OutputState }

func (CapacityCommitmentOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**CapacityCommitment)(nil)).Elem()
}

func (o CapacityCommitmentOutput) ToCapacityCommitmentOutput() CapacityCommitmentOutput {
	return o
}

func (o CapacityCommitmentOutput) ToCapacityCommitmentOutputWithContext(ctx context.Context) CapacityCommitmentOutput {
	return o
}

// The optional capacity commitment ID. Capacity commitment name will be generated automatically if this field is empty. This field must only contain lower case alphanumeric characters or dashes. The first and last character cannot be a dash. Max length is 64 characters. NOTE: this ID won't be kept if the capacity commitment is split or merged.
func (o CapacityCommitmentOutput) CapacityCommitmentId() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *CapacityCommitment) pulumi.StringPtrOutput { return v.CapacityCommitmentId }).(pulumi.StringPtrOutput)
}

// The end of the current commitment period. It is applicable only for ACTIVE capacity commitments.
func (o CapacityCommitmentOutput) CommitmentEndTime() pulumi.StringOutput {
	return o.ApplyT(func(v *CapacityCommitment) pulumi.StringOutput { return v.CommitmentEndTime }).(pulumi.StringOutput)
}

// The start of the current commitment period. It is applicable only for ACTIVE capacity commitments.
func (o CapacityCommitmentOutput) CommitmentStartTime() pulumi.StringOutput {
	return o.ApplyT(func(v *CapacityCommitment) pulumi.StringOutput { return v.CommitmentStartTime }).(pulumi.StringOutput)
}

// Edition of the capacity commitment.
func (o CapacityCommitmentOutput) Edition() pulumi.StringOutput {
	return o.ApplyT(func(v *CapacityCommitment) pulumi.StringOutput { return v.Edition }).(pulumi.StringOutput)
}

// If true, fail the request if another project in the organization has a capacity commitment.
func (o CapacityCommitmentOutput) EnforceSingleAdminProjectPerOrg() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *CapacityCommitment) pulumi.BoolPtrOutput { return v.EnforceSingleAdminProjectPerOrg }).(pulumi.BoolPtrOutput)
}

// For FAILED commitment plan, provides the reason of failure.
func (o CapacityCommitmentOutput) FailureStatus() StatusResponseOutput {
	return o.ApplyT(func(v *CapacityCommitment) StatusResponseOutput { return v.FailureStatus }).(StatusResponseOutput)
}

// If true, the commitment is a flat-rate commitment, otherwise, it's an edition commitment.
func (o CapacityCommitmentOutput) IsFlatRate() pulumi.BoolOutput {
	return o.ApplyT(func(v *CapacityCommitment) pulumi.BoolOutput { return v.IsFlatRate }).(pulumi.BoolOutput)
}

func (o CapacityCommitmentOutput) Location() pulumi.StringOutput {
	return o.ApplyT(func(v *CapacityCommitment) pulumi.StringOutput { return v.Location }).(pulumi.StringOutput)
}

// Applicable only for commitments located within one of the BigQuery multi-regions (US or EU). If set to true, this commitment is placed in the organization's secondary region which is designated for disaster recovery purposes. If false, this commitment is placed in the organization's default region. NOTE: this is a preview feature. Project must be allow-listed in order to set this field.
func (o CapacityCommitmentOutput) MultiRegionAuxiliary() pulumi.BoolOutput {
	return o.ApplyT(func(v *CapacityCommitment) pulumi.BoolOutput { return v.MultiRegionAuxiliary }).(pulumi.BoolOutput)
}

// The resource name of the capacity commitment, e.g., `projects/myproject/locations/US/capacityCommitments/123` The commitment_id must only contain lower case alphanumeric characters or dashes. It must start with a letter and must not end with a dash. Its maximum length is 64 characters.
func (o CapacityCommitmentOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *CapacityCommitment) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// Capacity commitment commitment plan.
func (o CapacityCommitmentOutput) Plan() pulumi.StringOutput {
	return o.ApplyT(func(v *CapacityCommitment) pulumi.StringOutput { return v.Plan }).(pulumi.StringOutput)
}

func (o CapacityCommitmentOutput) Project() pulumi.StringOutput {
	return o.ApplyT(func(v *CapacityCommitment) pulumi.StringOutput { return v.Project }).(pulumi.StringOutput)
}

// The plan this capacity commitment is converted to after commitment_end_time passes. Once the plan is changed, committed period is extended according to commitment plan. Only applicable for ANNUAL and TRIAL commitments.
func (o CapacityCommitmentOutput) RenewalPlan() pulumi.StringOutput {
	return o.ApplyT(func(v *CapacityCommitment) pulumi.StringOutput { return v.RenewalPlan }).(pulumi.StringOutput)
}

// Number of slots in this commitment.
func (o CapacityCommitmentOutput) SlotCount() pulumi.StringOutput {
	return o.ApplyT(func(v *CapacityCommitment) pulumi.StringOutput { return v.SlotCount }).(pulumi.StringOutput)
}

// State of the commitment.
func (o CapacityCommitmentOutput) State() pulumi.StringOutput {
	return o.ApplyT(func(v *CapacityCommitment) pulumi.StringOutput { return v.State }).(pulumi.StringOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*CapacityCommitmentInput)(nil)).Elem(), &CapacityCommitment{})
	pulumi.RegisterOutputType(CapacityCommitmentOutput{})
}
