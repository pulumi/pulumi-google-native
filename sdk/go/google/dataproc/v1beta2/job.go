// *** WARNING: this file was generated by the Pulumi SDK Generator. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package v1beta2

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Submits a job to a cluster.
type Job struct {
	pulumi.CustomResourceState

	// Indicates whether the job is completed. If the value is false, the job is still in progress. If true, the job is completed, and status.state field will indicate if it was successful, failed, or cancelled.
	Done pulumi.BoolOutput `pulumi:"done"`
	// If present, the location of miscellaneous control files which may be used as part of job setup and handling. If not present, control files may be placed in the same location as driver_output_uri.
	DriverControlFilesUri pulumi.StringOutput `pulumi:"driverControlFilesUri"`
	// A URI pointing to the location of the stdout of the job's driver program.
	DriverOutputResourceUri pulumi.StringOutput `pulumi:"driverOutputResourceUri"`
	// Optional. Job is a Hadoop job.
	HadoopJob HadoopJobResponseOutput `pulumi:"hadoopJob"`
	// Optional. Job is a Hive job.
	HiveJob HiveJobResponseOutput `pulumi:"hiveJob"`
	// A UUID that uniquely identifies a job within the project over time. This is in contrast to a user-settable reference.job_id that may be reused over time.
	JobUuid pulumi.StringOutput `pulumi:"jobUuid"`
	// Optional. The labels to associate with this job. Label keys must contain 1 to 63 characters, and must conform to RFC 1035 (https://www.ietf.org/rfc/rfc1035.txt). Label values may be empty, but, if present, must contain 1 to 63 characters, and must conform to RFC 1035 (https://www.ietf.org/rfc/rfc1035.txt). No more than 32 labels can be associated with a job.
	Labels pulumi.StringMapOutput `pulumi:"labels"`
	// Optional. Job is a Pig job.
	PigJob PigJobResponseOutput `pulumi:"pigJob"`
	// Required. Job information, including how, when, and where to run the job.
	Placement JobPlacementResponseOutput `pulumi:"placement"`
	// Optional. Job is a Presto job.
	PrestoJob PrestoJobResponseOutput `pulumi:"prestoJob"`
	// Optional. Job is a PySpark job.
	PysparkJob PySparkJobResponseOutput `pulumi:"pysparkJob"`
	// Optional. The fully qualified reference to the job, which can be used to obtain the equivalent REST path of the job resource. If this property is not specified when a job is created, the server generates a job_id.
	Reference JobReferenceResponseOutput `pulumi:"reference"`
	// Optional. Job scheduling configuration.
	Scheduling JobSchedulingResponseOutput `pulumi:"scheduling"`
	// Optional. Job is a Spark job.
	SparkJob SparkJobResponseOutput `pulumi:"sparkJob"`
	// Optional. Job is a SparkR job.
	SparkRJob SparkRJobResponseOutput `pulumi:"sparkRJob"`
	// Optional. Job is a SparkSql job.
	SparkSqlJob SparkSqlJobResponseOutput `pulumi:"sparkSqlJob"`
	// The job status. Additional application-specific status information may be contained in the type_job and yarn_applications fields.
	Status JobStatusResponseOutput `pulumi:"status"`
	// The previous job status.
	StatusHistory JobStatusResponseArrayOutput `pulumi:"statusHistory"`
	// The email address of the user submitting the job. For jobs submitted on the cluster, the address is username@hostname.
	SubmittedBy pulumi.StringOutput `pulumi:"submittedBy"`
	// The collection of YARN applications spun up by this job.Beta Feature: This report is available for testing purposes only. It may be changed before final release.
	YarnApplications YarnApplicationResponseArrayOutput `pulumi:"yarnApplications"`
}

// NewJob registers a new resource with the given unique name, arguments, and options.
func NewJob(ctx *pulumi.Context,
	name string, args *JobArgs, opts ...pulumi.ResourceOption) (*Job, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Project == nil {
		return nil, errors.New("invalid value for required argument 'Project'")
	}
	if args.Region == nil {
		return nil, errors.New("invalid value for required argument 'Region'")
	}
	var resource Job
	err := ctx.RegisterResource("google-native:dataproc/v1beta2:Job", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetJob gets an existing Job resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetJob(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *JobState, opts ...pulumi.ResourceOption) (*Job, error) {
	var resource Job
	err := ctx.ReadResource("google-native:dataproc/v1beta2:Job", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Job resources.
type jobState struct {
	// Indicates whether the job is completed. If the value is false, the job is still in progress. If true, the job is completed, and status.state field will indicate if it was successful, failed, or cancelled.
	Done *bool `pulumi:"done"`
	// If present, the location of miscellaneous control files which may be used as part of job setup and handling. If not present, control files may be placed in the same location as driver_output_uri.
	DriverControlFilesUri *string `pulumi:"driverControlFilesUri"`
	// A URI pointing to the location of the stdout of the job's driver program.
	DriverOutputResourceUri *string `pulumi:"driverOutputResourceUri"`
	// Optional. Job is a Hadoop job.
	HadoopJob *HadoopJobResponse `pulumi:"hadoopJob"`
	// Optional. Job is a Hive job.
	HiveJob *HiveJobResponse `pulumi:"hiveJob"`
	// A UUID that uniquely identifies a job within the project over time. This is in contrast to a user-settable reference.job_id that may be reused over time.
	JobUuid *string `pulumi:"jobUuid"`
	// Optional. The labels to associate with this job. Label keys must contain 1 to 63 characters, and must conform to RFC 1035 (https://www.ietf.org/rfc/rfc1035.txt). Label values may be empty, but, if present, must contain 1 to 63 characters, and must conform to RFC 1035 (https://www.ietf.org/rfc/rfc1035.txt). No more than 32 labels can be associated with a job.
	Labels map[string]string `pulumi:"labels"`
	// Optional. Job is a Pig job.
	PigJob *PigJobResponse `pulumi:"pigJob"`
	// Required. Job information, including how, when, and where to run the job.
	Placement *JobPlacementResponse `pulumi:"placement"`
	// Optional. Job is a Presto job.
	PrestoJob *PrestoJobResponse `pulumi:"prestoJob"`
	// Optional. Job is a PySpark job.
	PysparkJob *PySparkJobResponse `pulumi:"pysparkJob"`
	// Optional. The fully qualified reference to the job, which can be used to obtain the equivalent REST path of the job resource. If this property is not specified when a job is created, the server generates a job_id.
	Reference *JobReferenceResponse `pulumi:"reference"`
	// Optional. Job scheduling configuration.
	Scheduling *JobSchedulingResponse `pulumi:"scheduling"`
	// Optional. Job is a Spark job.
	SparkJob *SparkJobResponse `pulumi:"sparkJob"`
	// Optional. Job is a SparkR job.
	SparkRJob *SparkRJobResponse `pulumi:"sparkRJob"`
	// Optional. Job is a SparkSql job.
	SparkSqlJob *SparkSqlJobResponse `pulumi:"sparkSqlJob"`
	// The job status. Additional application-specific status information may be contained in the type_job and yarn_applications fields.
	Status *JobStatusResponse `pulumi:"status"`
	// The previous job status.
	StatusHistory []JobStatusResponse `pulumi:"statusHistory"`
	// The email address of the user submitting the job. For jobs submitted on the cluster, the address is username@hostname.
	SubmittedBy *string `pulumi:"submittedBy"`
	// The collection of YARN applications spun up by this job.Beta Feature: This report is available for testing purposes only. It may be changed before final release.
	YarnApplications []YarnApplicationResponse `pulumi:"yarnApplications"`
}

type JobState struct {
	// Indicates whether the job is completed. If the value is false, the job is still in progress. If true, the job is completed, and status.state field will indicate if it was successful, failed, or cancelled.
	Done pulumi.BoolPtrInput
	// If present, the location of miscellaneous control files which may be used as part of job setup and handling. If not present, control files may be placed in the same location as driver_output_uri.
	DriverControlFilesUri pulumi.StringPtrInput
	// A URI pointing to the location of the stdout of the job's driver program.
	DriverOutputResourceUri pulumi.StringPtrInput
	// Optional. Job is a Hadoop job.
	HadoopJob HadoopJobResponsePtrInput
	// Optional. Job is a Hive job.
	HiveJob HiveJobResponsePtrInput
	// A UUID that uniquely identifies a job within the project over time. This is in contrast to a user-settable reference.job_id that may be reused over time.
	JobUuid pulumi.StringPtrInput
	// Optional. The labels to associate with this job. Label keys must contain 1 to 63 characters, and must conform to RFC 1035 (https://www.ietf.org/rfc/rfc1035.txt). Label values may be empty, but, if present, must contain 1 to 63 characters, and must conform to RFC 1035 (https://www.ietf.org/rfc/rfc1035.txt). No more than 32 labels can be associated with a job.
	Labels pulumi.StringMapInput
	// Optional. Job is a Pig job.
	PigJob PigJobResponsePtrInput
	// Required. Job information, including how, when, and where to run the job.
	Placement JobPlacementResponsePtrInput
	// Optional. Job is a Presto job.
	PrestoJob PrestoJobResponsePtrInput
	// Optional. Job is a PySpark job.
	PysparkJob PySparkJobResponsePtrInput
	// Optional. The fully qualified reference to the job, which can be used to obtain the equivalent REST path of the job resource. If this property is not specified when a job is created, the server generates a job_id.
	Reference JobReferenceResponsePtrInput
	// Optional. Job scheduling configuration.
	Scheduling JobSchedulingResponsePtrInput
	// Optional. Job is a Spark job.
	SparkJob SparkJobResponsePtrInput
	// Optional. Job is a SparkR job.
	SparkRJob SparkRJobResponsePtrInput
	// Optional. Job is a SparkSql job.
	SparkSqlJob SparkSqlJobResponsePtrInput
	// The job status. Additional application-specific status information may be contained in the type_job and yarn_applications fields.
	Status JobStatusResponsePtrInput
	// The previous job status.
	StatusHistory JobStatusResponseArrayInput
	// The email address of the user submitting the job. For jobs submitted on the cluster, the address is username@hostname.
	SubmittedBy pulumi.StringPtrInput
	// The collection of YARN applications spun up by this job.Beta Feature: This report is available for testing purposes only. It may be changed before final release.
	YarnApplications YarnApplicationResponseArrayInput
}

func (JobState) ElementType() reflect.Type {
	return reflect.TypeOf((*jobState)(nil)).Elem()
}

type jobArgs struct {
	// Optional. Job is a Hadoop job.
	HadoopJob *HadoopJob `pulumi:"hadoopJob"`
	// Optional. Job is a Hive job.
	HiveJob *HiveJob `pulumi:"hiveJob"`
	// Optional. The labels to associate with this job. Label keys must contain 1 to 63 characters, and must conform to RFC 1035 (https://www.ietf.org/rfc/rfc1035.txt). Label values may be empty, but, if present, must contain 1 to 63 characters, and must conform to RFC 1035 (https://www.ietf.org/rfc/rfc1035.txt). No more than 32 labels can be associated with a job.
	Labels map[string]string `pulumi:"labels"`
	// Optional. Job is a Pig job.
	PigJob *PigJob `pulumi:"pigJob"`
	// Required. Job information, including how, when, and where to run the job.
	Placement *JobPlacement `pulumi:"placement"`
	// Optional. Job is a Presto job.
	PrestoJob *PrestoJob `pulumi:"prestoJob"`
	Project   string     `pulumi:"project"`
	// Optional. Job is a PySpark job.
	PysparkJob *PySparkJob `pulumi:"pysparkJob"`
	// Optional. The fully qualified reference to the job, which can be used to obtain the equivalent REST path of the job resource. If this property is not specified when a job is created, the server generates a job_id.
	Reference *JobReference `pulumi:"reference"`
	Region    string        `pulumi:"region"`
	// Optional. A unique id used to identify the request. If the server receives two SubmitJobRequest (https://cloud.google.com/dataproc/docs/reference/rpc/google.cloud.dataproc.v1beta2#google.cloud.dataproc.v1.SubmitJobRequest)s with the same id, then the second request will be ignored and the first Job created and stored in the backend is returned.It is recommended to always set this value to a UUID (https://en.wikipedia.org/wiki/Universally_unique_identifier).The id must contain only letters (a-z, A-Z), numbers (0-9), underscores (_), and hyphens (-). The maximum length is 40 characters.
	RequestId *string `pulumi:"requestId"`
	// Optional. Job scheduling configuration.
	Scheduling *JobScheduling `pulumi:"scheduling"`
	// Optional. Job is a Spark job.
	SparkJob *SparkJob `pulumi:"sparkJob"`
	// Optional. Job is a SparkR job.
	SparkRJob *SparkRJob `pulumi:"sparkRJob"`
	// Optional. Job is a SparkSql job.
	SparkSqlJob *SparkSqlJob `pulumi:"sparkSqlJob"`
}

// The set of arguments for constructing a Job resource.
type JobArgs struct {
	// Optional. Job is a Hadoop job.
	HadoopJob HadoopJobPtrInput
	// Optional. Job is a Hive job.
	HiveJob HiveJobPtrInput
	// Optional. The labels to associate with this job. Label keys must contain 1 to 63 characters, and must conform to RFC 1035 (https://www.ietf.org/rfc/rfc1035.txt). Label values may be empty, but, if present, must contain 1 to 63 characters, and must conform to RFC 1035 (https://www.ietf.org/rfc/rfc1035.txt). No more than 32 labels can be associated with a job.
	Labels pulumi.StringMapInput
	// Optional. Job is a Pig job.
	PigJob PigJobPtrInput
	// Required. Job information, including how, when, and where to run the job.
	Placement JobPlacementPtrInput
	// Optional. Job is a Presto job.
	PrestoJob PrestoJobPtrInput
	Project   pulumi.StringInput
	// Optional. Job is a PySpark job.
	PysparkJob PySparkJobPtrInput
	// Optional. The fully qualified reference to the job, which can be used to obtain the equivalent REST path of the job resource. If this property is not specified when a job is created, the server generates a job_id.
	Reference JobReferencePtrInput
	Region    pulumi.StringInput
	// Optional. A unique id used to identify the request. If the server receives two SubmitJobRequest (https://cloud.google.com/dataproc/docs/reference/rpc/google.cloud.dataproc.v1beta2#google.cloud.dataproc.v1.SubmitJobRequest)s with the same id, then the second request will be ignored and the first Job created and stored in the backend is returned.It is recommended to always set this value to a UUID (https://en.wikipedia.org/wiki/Universally_unique_identifier).The id must contain only letters (a-z, A-Z), numbers (0-9), underscores (_), and hyphens (-). The maximum length is 40 characters.
	RequestId pulumi.StringPtrInput
	// Optional. Job scheduling configuration.
	Scheduling JobSchedulingPtrInput
	// Optional. Job is a Spark job.
	SparkJob SparkJobPtrInput
	// Optional. Job is a SparkR job.
	SparkRJob SparkRJobPtrInput
	// Optional. Job is a SparkSql job.
	SparkSqlJob SparkSqlJobPtrInput
}

func (JobArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*jobArgs)(nil)).Elem()
}

type JobInput interface {
	pulumi.Input

	ToJobOutput() JobOutput
	ToJobOutputWithContext(ctx context.Context) JobOutput
}

func (*Job) ElementType() reflect.Type {
	return reflect.TypeOf((*Job)(nil))
}

func (i *Job) ToJobOutput() JobOutput {
	return i.ToJobOutputWithContext(context.Background())
}

func (i *Job) ToJobOutputWithContext(ctx context.Context) JobOutput {
	return pulumi.ToOutputWithContext(ctx, i).(JobOutput)
}

type JobOutput struct {
	*pulumi.OutputState
}

func (JobOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*Job)(nil))
}

func (o JobOutput) ToJobOutput() JobOutput {
	return o
}

func (o JobOutput) ToJobOutputWithContext(ctx context.Context) JobOutput {
	return o
}

func init() {
	pulumi.RegisterOutputType(JobOutput{})
}
