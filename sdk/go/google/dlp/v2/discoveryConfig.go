// Code generated by the Pulumi SDK Generator DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package v2

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-google-native/sdk/go/google/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Creates a config for discovery to scan and profile storage.
type DiscoveryConfig struct {
	pulumi.CustomResourceState

	// Actions to execute at the completion of scanning.
	Actions GooglePrivacyDlpV2DataProfileActionResponseArrayOutput `pulumi:"actions"`
	// The creation timestamp of a DiscoveryConfig.
	CreateTime pulumi.StringOutput `pulumi:"createTime"`
	// Display name (max 100 chars)
	DisplayName pulumi.StringOutput `pulumi:"displayName"`
	// A stream of errors encountered when the config was activated. Repeated errors may result in the config automatically being paused. Output only field. Will return the last 100 errors. Whenever the config is modified this list will be cleared.
	Errors GooglePrivacyDlpV2ErrorResponseArrayOutput `pulumi:"errors"`
	// Detection logic for profile generation. Not all template features are used by Discovery. FindingLimits, include_quote and exclude_info_types have no impact on Discovery. Multiple templates may be provided if there is data in multiple regions. At most one template must be specified per-region (including "global"). Each region is scanned using the applicable template. If no region-specific template is specified, but a "global" template is specified, it will be copied to that region and used instead. If no global or region-specific template is provided for a region with data, that region's data will not be scanned. For more information, see https://cloud.google.com/sensitive-data-protection/docs/data-profiles#data-residency.
	InspectTemplates pulumi.StringArrayOutput `pulumi:"inspectTemplates"`
	// The timestamp of the last time this config was executed.
	LastRunTime pulumi.StringOutput `pulumi:"lastRunTime"`
	Location    pulumi.StringOutput `pulumi:"location"`
	// Unique resource name for the DiscoveryConfig, assigned by the service when the DiscoveryConfig is created, for example `projects/dlp-test-project/locations/global/discoveryConfigs/53234423`.
	Name pulumi.StringOutput `pulumi:"name"`
	// Only set when the parent is an org.
	OrgConfig GooglePrivacyDlpV2OrgConfigResponseOutput `pulumi:"orgConfig"`
	Project   pulumi.StringOutput                       `pulumi:"project"`
	// A status for this configuration.
	Status pulumi.StringOutput `pulumi:"status"`
	// Target to match against for determining what to scan and how frequently.
	Targets GooglePrivacyDlpV2DiscoveryTargetResponseArrayOutput `pulumi:"targets"`
	// The last update timestamp of a DiscoveryConfig.
	UpdateTime pulumi.StringOutput `pulumi:"updateTime"`
}

// NewDiscoveryConfig registers a new resource with the given unique name, arguments, and options.
func NewDiscoveryConfig(ctx *pulumi.Context,
	name string, args *DiscoveryConfigArgs, opts ...pulumi.ResourceOption) (*DiscoveryConfig, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Status == nil {
		return nil, errors.New("invalid value for required argument 'Status'")
	}
	replaceOnChanges := pulumi.ReplaceOnChanges([]string{
		"location",
		"project",
	})
	opts = append(opts, replaceOnChanges)
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource DiscoveryConfig
	err := ctx.RegisterResource("google-native:dlp/v2:DiscoveryConfig", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetDiscoveryConfig gets an existing DiscoveryConfig resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetDiscoveryConfig(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *DiscoveryConfigState, opts ...pulumi.ResourceOption) (*DiscoveryConfig, error) {
	var resource DiscoveryConfig
	err := ctx.ReadResource("google-native:dlp/v2:DiscoveryConfig", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering DiscoveryConfig resources.
type discoveryConfigState struct {
}

type DiscoveryConfigState struct {
}

func (DiscoveryConfigState) ElementType() reflect.Type {
	return reflect.TypeOf((*discoveryConfigState)(nil)).Elem()
}

type discoveryConfigArgs struct {
	// Actions to execute at the completion of scanning.
	Actions []GooglePrivacyDlpV2DataProfileAction `pulumi:"actions"`
	// The config ID can contain uppercase and lowercase letters, numbers, and hyphens; that is, it must match the regular expression: `[a-zA-Z\d-_]+`. The maximum length is 100 characters. Can be empty to allow the system to generate one.
	ConfigId *string `pulumi:"configId"`
	// Display name (max 100 chars)
	DisplayName *string `pulumi:"displayName"`
	// Detection logic for profile generation. Not all template features are used by Discovery. FindingLimits, include_quote and exclude_info_types have no impact on Discovery. Multiple templates may be provided if there is data in multiple regions. At most one template must be specified per-region (including "global"). Each region is scanned using the applicable template. If no region-specific template is specified, but a "global" template is specified, it will be copied to that region and used instead. If no global or region-specific template is provided for a region with data, that region's data will not be scanned. For more information, see https://cloud.google.com/sensitive-data-protection/docs/data-profiles#data-residency.
	InspectTemplates []string `pulumi:"inspectTemplates"`
	Location         *string  `pulumi:"location"`
	// Unique resource name for the DiscoveryConfig, assigned by the service when the DiscoveryConfig is created, for example `projects/dlp-test-project/locations/global/discoveryConfigs/53234423`.
	Name *string `pulumi:"name"`
	// Only set when the parent is an org.
	OrgConfig *GooglePrivacyDlpV2OrgConfig `pulumi:"orgConfig"`
	Project   *string                      `pulumi:"project"`
	// A status for this configuration.
	Status DiscoveryConfigStatus `pulumi:"status"`
	// Target to match against for determining what to scan and how frequently.
	Targets []GooglePrivacyDlpV2DiscoveryTarget `pulumi:"targets"`
}

// The set of arguments for constructing a DiscoveryConfig resource.
type DiscoveryConfigArgs struct {
	// Actions to execute at the completion of scanning.
	Actions GooglePrivacyDlpV2DataProfileActionArrayInput
	// The config ID can contain uppercase and lowercase letters, numbers, and hyphens; that is, it must match the regular expression: `[a-zA-Z\d-_]+`. The maximum length is 100 characters. Can be empty to allow the system to generate one.
	ConfigId pulumi.StringPtrInput
	// Display name (max 100 chars)
	DisplayName pulumi.StringPtrInput
	// Detection logic for profile generation. Not all template features are used by Discovery. FindingLimits, include_quote and exclude_info_types have no impact on Discovery. Multiple templates may be provided if there is data in multiple regions. At most one template must be specified per-region (including "global"). Each region is scanned using the applicable template. If no region-specific template is specified, but a "global" template is specified, it will be copied to that region and used instead. If no global or region-specific template is provided for a region with data, that region's data will not be scanned. For more information, see https://cloud.google.com/sensitive-data-protection/docs/data-profiles#data-residency.
	InspectTemplates pulumi.StringArrayInput
	Location         pulumi.StringPtrInput
	// Unique resource name for the DiscoveryConfig, assigned by the service when the DiscoveryConfig is created, for example `projects/dlp-test-project/locations/global/discoveryConfigs/53234423`.
	Name pulumi.StringPtrInput
	// Only set when the parent is an org.
	OrgConfig GooglePrivacyDlpV2OrgConfigPtrInput
	Project   pulumi.StringPtrInput
	// A status for this configuration.
	Status DiscoveryConfigStatusInput
	// Target to match against for determining what to scan and how frequently.
	Targets GooglePrivacyDlpV2DiscoveryTargetArrayInput
}

func (DiscoveryConfigArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*discoveryConfigArgs)(nil)).Elem()
}

type DiscoveryConfigInput interface {
	pulumi.Input

	ToDiscoveryConfigOutput() DiscoveryConfigOutput
	ToDiscoveryConfigOutputWithContext(ctx context.Context) DiscoveryConfigOutput
}

func (*DiscoveryConfig) ElementType() reflect.Type {
	return reflect.TypeOf((**DiscoveryConfig)(nil)).Elem()
}

func (i *DiscoveryConfig) ToDiscoveryConfigOutput() DiscoveryConfigOutput {
	return i.ToDiscoveryConfigOutputWithContext(context.Background())
}

func (i *DiscoveryConfig) ToDiscoveryConfigOutputWithContext(ctx context.Context) DiscoveryConfigOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DiscoveryConfigOutput)
}

type DiscoveryConfigOutput struct{ *pulumi.OutputState }

func (DiscoveryConfigOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**DiscoveryConfig)(nil)).Elem()
}

func (o DiscoveryConfigOutput) ToDiscoveryConfigOutput() DiscoveryConfigOutput {
	return o
}

func (o DiscoveryConfigOutput) ToDiscoveryConfigOutputWithContext(ctx context.Context) DiscoveryConfigOutput {
	return o
}

// Actions to execute at the completion of scanning.
func (o DiscoveryConfigOutput) Actions() GooglePrivacyDlpV2DataProfileActionResponseArrayOutput {
	return o.ApplyT(func(v *DiscoveryConfig) GooglePrivacyDlpV2DataProfileActionResponseArrayOutput { return v.Actions }).(GooglePrivacyDlpV2DataProfileActionResponseArrayOutput)
}

// The creation timestamp of a DiscoveryConfig.
func (o DiscoveryConfigOutput) CreateTime() pulumi.StringOutput {
	return o.ApplyT(func(v *DiscoveryConfig) pulumi.StringOutput { return v.CreateTime }).(pulumi.StringOutput)
}

// Display name (max 100 chars)
func (o DiscoveryConfigOutput) DisplayName() pulumi.StringOutput {
	return o.ApplyT(func(v *DiscoveryConfig) pulumi.StringOutput { return v.DisplayName }).(pulumi.StringOutput)
}

// A stream of errors encountered when the config was activated. Repeated errors may result in the config automatically being paused. Output only field. Will return the last 100 errors. Whenever the config is modified this list will be cleared.
func (o DiscoveryConfigOutput) Errors() GooglePrivacyDlpV2ErrorResponseArrayOutput {
	return o.ApplyT(func(v *DiscoveryConfig) GooglePrivacyDlpV2ErrorResponseArrayOutput { return v.Errors }).(GooglePrivacyDlpV2ErrorResponseArrayOutput)
}

// Detection logic for profile generation. Not all template features are used by Discovery. FindingLimits, include_quote and exclude_info_types have no impact on Discovery. Multiple templates may be provided if there is data in multiple regions. At most one template must be specified per-region (including "global"). Each region is scanned using the applicable template. If no region-specific template is specified, but a "global" template is specified, it will be copied to that region and used instead. If no global or region-specific template is provided for a region with data, that region's data will not be scanned. For more information, see https://cloud.google.com/sensitive-data-protection/docs/data-profiles#data-residency.
func (o DiscoveryConfigOutput) InspectTemplates() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *DiscoveryConfig) pulumi.StringArrayOutput { return v.InspectTemplates }).(pulumi.StringArrayOutput)
}

// The timestamp of the last time this config was executed.
func (o DiscoveryConfigOutput) LastRunTime() pulumi.StringOutput {
	return o.ApplyT(func(v *DiscoveryConfig) pulumi.StringOutput { return v.LastRunTime }).(pulumi.StringOutput)
}

func (o DiscoveryConfigOutput) Location() pulumi.StringOutput {
	return o.ApplyT(func(v *DiscoveryConfig) pulumi.StringOutput { return v.Location }).(pulumi.StringOutput)
}

// Unique resource name for the DiscoveryConfig, assigned by the service when the DiscoveryConfig is created, for example `projects/dlp-test-project/locations/global/discoveryConfigs/53234423`.
func (o DiscoveryConfigOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *DiscoveryConfig) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// Only set when the parent is an org.
func (o DiscoveryConfigOutput) OrgConfig() GooglePrivacyDlpV2OrgConfigResponseOutput {
	return o.ApplyT(func(v *DiscoveryConfig) GooglePrivacyDlpV2OrgConfigResponseOutput { return v.OrgConfig }).(GooglePrivacyDlpV2OrgConfigResponseOutput)
}

func (o DiscoveryConfigOutput) Project() pulumi.StringOutput {
	return o.ApplyT(func(v *DiscoveryConfig) pulumi.StringOutput { return v.Project }).(pulumi.StringOutput)
}

// A status for this configuration.
func (o DiscoveryConfigOutput) Status() pulumi.StringOutput {
	return o.ApplyT(func(v *DiscoveryConfig) pulumi.StringOutput { return v.Status }).(pulumi.StringOutput)
}

// Target to match against for determining what to scan and how frequently.
func (o DiscoveryConfigOutput) Targets() GooglePrivacyDlpV2DiscoveryTargetResponseArrayOutput {
	return o.ApplyT(func(v *DiscoveryConfig) GooglePrivacyDlpV2DiscoveryTargetResponseArrayOutput { return v.Targets }).(GooglePrivacyDlpV2DiscoveryTargetResponseArrayOutput)
}

// The last update timestamp of a DiscoveryConfig.
func (o DiscoveryConfigOutput) UpdateTime() pulumi.StringOutput {
	return o.ApplyT(func(v *DiscoveryConfig) pulumi.StringOutput { return v.UpdateTime }).(pulumi.StringOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*DiscoveryConfigInput)(nil)).Elem(), &DiscoveryConfig{})
	pulumi.RegisterOutputType(DiscoveryConfigOutput{})
}
