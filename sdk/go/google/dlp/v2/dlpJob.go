// *** WARNING: this file was generated by the Pulumi SDK Generator. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package v2

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Creates a new job to inspect storage or calculate risk metrics. See https://cloud.google.com/dlp/docs/inspecting-storage and https://cloud.google.com/dlp/docs/compute-risk-analysis to learn more. When no InfoTypes or CustomInfoTypes are specified in inspect jobs, the system will automatically choose what detectors to run. By default this may be all types, but may change over time as detectors are updated.
type DlpJob struct {
	pulumi.CustomResourceState

	// Time when the job was created.
	CreateTime pulumi.StringOutput `pulumi:"createTime"`
	// Time when the job finished.
	EndTime pulumi.StringOutput `pulumi:"endTime"`
	// A stream of errors encountered running the job.
	Errors GooglePrivacyDlpV2ErrorResponseArrayOutput `pulumi:"errors"`
	// Results from inspecting a data source.
	InspectDetails GooglePrivacyDlpV2InspectDataSourceDetailsResponseOutput `pulumi:"inspectDetails"`
	// If created by a job trigger, the resource name of the trigger that instantiated the job.
	JobTriggerName pulumi.StringOutput `pulumi:"jobTriggerName"`
	// The server-assigned name.
	Name pulumi.StringOutput `pulumi:"name"`
	// Results from analyzing risk of a data source.
	RiskDetails GooglePrivacyDlpV2AnalyzeDataSourceRiskDetailsResponseOutput `pulumi:"riskDetails"`
	// Time when the job started.
	StartTime pulumi.StringOutput `pulumi:"startTime"`
	// State of a job.
	State pulumi.StringOutput `pulumi:"state"`
	// The type of job.
	Type pulumi.StringOutput `pulumi:"type"`
}

// NewDlpJob registers a new resource with the given unique name, arguments, and options.
func NewDlpJob(ctx *pulumi.Context,
	name string, args *DlpJobArgs, opts ...pulumi.ResourceOption) (*DlpJob, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Location == nil {
		return nil, errors.New("invalid value for required argument 'Location'")
	}
	if args.Project == nil {
		return nil, errors.New("invalid value for required argument 'Project'")
	}
	var resource DlpJob
	err := ctx.RegisterResource("google-native:dlp/v2:DlpJob", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetDlpJob gets an existing DlpJob resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetDlpJob(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *DlpJobState, opts ...pulumi.ResourceOption) (*DlpJob, error) {
	var resource DlpJob
	err := ctx.ReadResource("google-native:dlp/v2:DlpJob", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering DlpJob resources.
type dlpJobState struct {
	// Time when the job was created.
	CreateTime *string `pulumi:"createTime"`
	// Time when the job finished.
	EndTime *string `pulumi:"endTime"`
	// A stream of errors encountered running the job.
	Errors []GooglePrivacyDlpV2ErrorResponse `pulumi:"errors"`
	// Results from inspecting a data source.
	InspectDetails *GooglePrivacyDlpV2InspectDataSourceDetailsResponse `pulumi:"inspectDetails"`
	// If created by a job trigger, the resource name of the trigger that instantiated the job.
	JobTriggerName *string `pulumi:"jobTriggerName"`
	// The server-assigned name.
	Name *string `pulumi:"name"`
	// Results from analyzing risk of a data source.
	RiskDetails *GooglePrivacyDlpV2AnalyzeDataSourceRiskDetailsResponse `pulumi:"riskDetails"`
	// Time when the job started.
	StartTime *string `pulumi:"startTime"`
	// State of a job.
	State *string `pulumi:"state"`
	// The type of job.
	Type *string `pulumi:"type"`
}

type DlpJobState struct {
	// Time when the job was created.
	CreateTime pulumi.StringPtrInput
	// Time when the job finished.
	EndTime pulumi.StringPtrInput
	// A stream of errors encountered running the job.
	Errors GooglePrivacyDlpV2ErrorResponseArrayInput
	// Results from inspecting a data source.
	InspectDetails GooglePrivacyDlpV2InspectDataSourceDetailsResponsePtrInput
	// If created by a job trigger, the resource name of the trigger that instantiated the job.
	JobTriggerName pulumi.StringPtrInput
	// The server-assigned name.
	Name pulumi.StringPtrInput
	// Results from analyzing risk of a data source.
	RiskDetails GooglePrivacyDlpV2AnalyzeDataSourceRiskDetailsResponsePtrInput
	// Time when the job started.
	StartTime pulumi.StringPtrInput
	// State of a job.
	State pulumi.StringPtrInput
	// The type of job.
	Type pulumi.StringPtrInput
}

func (DlpJobState) ElementType() reflect.Type {
	return reflect.TypeOf((*dlpJobState)(nil)).Elem()
}

type dlpJobArgs struct {
	// An inspection job scans a storage repository for InfoTypes.
	InspectJob *GooglePrivacyDlpV2InspectJobConfig `pulumi:"inspectJob"`
	// The job id can contain uppercase and lowercase letters, numbers, and hyphens; that is, it must match the regular expression: `[a-zA-Z\d-_]+`. The maximum length is 100 characters. Can be empty to allow the system to generate one.
	JobId    *string `pulumi:"jobId"`
	Location string  `pulumi:"location"`
	Project  string  `pulumi:"project"`
	// A risk analysis job calculates re-identification risk metrics for a BigQuery table.
	RiskJob *GooglePrivacyDlpV2RiskAnalysisJobConfig `pulumi:"riskJob"`
}

// The set of arguments for constructing a DlpJob resource.
type DlpJobArgs struct {
	// An inspection job scans a storage repository for InfoTypes.
	InspectJob GooglePrivacyDlpV2InspectJobConfigPtrInput
	// The job id can contain uppercase and lowercase letters, numbers, and hyphens; that is, it must match the regular expression: `[a-zA-Z\d-_]+`. The maximum length is 100 characters. Can be empty to allow the system to generate one.
	JobId    pulumi.StringPtrInput
	Location pulumi.StringInput
	Project  pulumi.StringInput
	// A risk analysis job calculates re-identification risk metrics for a BigQuery table.
	RiskJob GooglePrivacyDlpV2RiskAnalysisJobConfigPtrInput
}

func (DlpJobArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*dlpJobArgs)(nil)).Elem()
}

type DlpJobInput interface {
	pulumi.Input

	ToDlpJobOutput() DlpJobOutput
	ToDlpJobOutputWithContext(ctx context.Context) DlpJobOutput
}

func (*DlpJob) ElementType() reflect.Type {
	return reflect.TypeOf((*DlpJob)(nil))
}

func (i *DlpJob) ToDlpJobOutput() DlpJobOutput {
	return i.ToDlpJobOutputWithContext(context.Background())
}

func (i *DlpJob) ToDlpJobOutputWithContext(ctx context.Context) DlpJobOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DlpJobOutput)
}

type DlpJobOutput struct {
	*pulumi.OutputState
}

func (DlpJobOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*DlpJob)(nil))
}

func (o DlpJobOutput) ToDlpJobOutput() DlpJobOutput {
	return o
}

func (o DlpJobOutput) ToDlpJobOutputWithContext(ctx context.Context) DlpJobOutput {
	return o
}

func init() {
	pulumi.RegisterOutputType(DlpJobOutput{})
}
