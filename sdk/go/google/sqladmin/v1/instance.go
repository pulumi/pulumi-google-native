// *** WARNING: this file was generated by the Pulumi SDK Generator. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package v1

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Creates a new Cloud SQL instance.
type Instance struct {
	pulumi.CustomResourceState

	// The backend type. **SECOND_GEN**: Cloud SQL database instance. **EXTERNAL**: A database server that is not managed by Google. This property is read-only; use the **tier** property in the **settings** object to determine the database type.
	BackendType pulumi.StringOutput `pulumi:"backendType"`
	// Connection name of the Cloud SQL instance used in connection strings.
	ConnectionName pulumi.StringOutput `pulumi:"connectionName"`
	// The time when the instance was created in [RFC 3339](https://tools.ietf.org/html/rfc3339) format, for example **2012-11-15T16:19:00.094Z**.
	CreateTime pulumi.StringOutput `pulumi:"createTime"`
	// The current disk usage of the instance in bytes. This property has been deprecated. Use the "cloudsql.googleapis.com/database/disk/bytes_used" metric in Cloud Monitoring API instead. Please see [this announcement](https://groups.google.com/d/msg/google-cloud-sql-announce/I_7-F9EBhT0/BtvFtdFeAgAJ) for details.
	CurrentDiskSize pulumi.StringOutput `pulumi:"currentDiskSize"`
	// Stores the current database version running on the instance including minor version such as **MYSQL_8_0_18**.
	DatabaseInstalledVersion pulumi.StringOutput `pulumi:"databaseInstalledVersion"`
	// The database engine type and version. The **databaseVersion** field cannot be changed after instance creation.
	DatabaseVersion pulumi.StringOutput `pulumi:"databaseVersion"`
	// Disk encryption configuration specific to an instance.
	DiskEncryptionConfiguration DiskEncryptionConfigurationResponseOutput `pulumi:"diskEncryptionConfiguration"`
	// Disk encryption status specific to an instance.
	DiskEncryptionStatus DiskEncryptionStatusResponseOutput `pulumi:"diskEncryptionStatus"`
	// The name and status of the failover replica.
	FailoverReplica InstanceFailoverReplicaResponseOutput `pulumi:"failoverReplica"`
	// The Compute Engine zone that the instance is currently serving from. This value could be different from the zone that was specified when the instance was created if the instance has failed over to its secondary zone. WARNING: Changing this might restart the instance.
	GceZone pulumi.StringOutput `pulumi:"gceZone"`
	// The instance type.
	InstanceType pulumi.StringOutput `pulumi:"instanceType"`
	// The assigned IP addresses for the instance.
	IpAddresses IpMappingResponseArrayOutput `pulumi:"ipAddresses"`
	// This is always **sql#instance**.
	Kind pulumi.StringOutput `pulumi:"kind"`
	// The name of the instance which will act as primary in the replication setup.
	MasterInstanceName pulumi.StringOutput `pulumi:"masterInstanceName"`
	// The maximum disk size of the instance in bytes.
	MaxDiskSize pulumi.StringOutput `pulumi:"maxDiskSize"`
	// Name of the Cloud SQL instance. This does not include the project ID.
	Name pulumi.StringOutput `pulumi:"name"`
	// Configuration specific to on-premises instances.
	OnPremisesConfiguration OnPremisesConfigurationResponseOutput `pulumi:"onPremisesConfiguration"`
	// This field represents the report generated by the proactive database wellness job for OutOfDisk issues. * Writers: * the proactive database wellness job for OOD. * Readers: * the proactive database wellness job
	OutOfDiskReport SqlOutOfDiskReportResponseOutput `pulumi:"outOfDiskReport"`
	// The project ID of the project containing the Cloud SQL instance. The Google apps domain is prefixed if applicable.
	Project pulumi.StringOutput `pulumi:"project"`
	// The geographical region. Can be: * **us-central** (**FIRST_GEN** instances only) * **us-central1** (**SECOND_GEN** instances only) * **asia-east1** or **europe-west1**. Defaults to **us-central** or **us-central1** depending on the instance type. The region cannot be changed after instance creation.
	Region pulumi.StringOutput `pulumi:"region"`
	// Configuration specific to failover replicas and read replicas.
	ReplicaConfiguration ReplicaConfigurationResponseOutput `pulumi:"replicaConfiguration"`
	// The replicas of the instance.
	ReplicaNames pulumi.StringArrayOutput `pulumi:"replicaNames"`
	// Initial root password. Use only on creation.
	RootPassword pulumi.StringOutput `pulumi:"rootPassword"`
	// The status indicating if instance satisfiesPzs. Reserved for future use.
	SatisfiesPzs pulumi.BoolOutput `pulumi:"satisfiesPzs"`
	// The start time of any upcoming scheduled maintenance for this instance.
	ScheduledMaintenance SqlScheduledMaintenanceResponseOutput `pulumi:"scheduledMaintenance"`
	// The Compute Engine zone that the failover instance is currently serving from for a regional instance. This value could be different from the zone that was specified when the instance was created if the instance has failed over to its secondary/failover zone. Reserved for future use.
	SecondaryGceZone pulumi.StringOutput `pulumi:"secondaryGceZone"`
	// The URI of this resource.
	SelfLink pulumi.StringOutput `pulumi:"selfLink"`
	// SSL configuration.
	ServerCaCert SslCertResponseOutput `pulumi:"serverCaCert"`
	// The service account email address assigned to the instance. This property is read-only.
	ServiceAccountEmailAddress pulumi.StringOutput `pulumi:"serviceAccountEmailAddress"`
	// The user settings.
	Settings SettingsResponseOutput `pulumi:"settings"`
	// The current serving state of the Cloud SQL instance.
	State pulumi.StringOutput `pulumi:"state"`
	// If the instance state is SUSPENDED, the reason for the suspension.
	SuspensionReason pulumi.StringArrayOutput `pulumi:"suspensionReason"`
}

// NewInstance registers a new resource with the given unique name, arguments, and options.
func NewInstance(ctx *pulumi.Context,
	name string, args *InstanceArgs, opts ...pulumi.ResourceOption) (*Instance, error) {
	if args == nil {
		args = &InstanceArgs{}
	}

	var resource Instance
	err := ctx.RegisterResource("google-native:sqladmin/v1:Instance", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetInstance gets an existing Instance resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetInstance(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *InstanceState, opts ...pulumi.ResourceOption) (*Instance, error) {
	var resource Instance
	err := ctx.ReadResource("google-native:sqladmin/v1:Instance", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Instance resources.
type instanceState struct {
}

type InstanceState struct {
}

func (InstanceState) ElementType() reflect.Type {
	return reflect.TypeOf((*instanceState)(nil)).Elem()
}

type instanceArgs struct {
	// The backend type. **SECOND_GEN**: Cloud SQL database instance. **EXTERNAL**: A database server that is not managed by Google. This property is read-only; use the **tier** property in the **settings** object to determine the database type.
	BackendType *InstanceBackendType `pulumi:"backendType"`
	// Connection name of the Cloud SQL instance used in connection strings.
	ConnectionName *string `pulumi:"connectionName"`
	// The current disk usage of the instance in bytes. This property has been deprecated. Use the "cloudsql.googleapis.com/database/disk/bytes_used" metric in Cloud Monitoring API instead. Please see [this announcement](https://groups.google.com/d/msg/google-cloud-sql-announce/I_7-F9EBhT0/BtvFtdFeAgAJ) for details.
	CurrentDiskSize *string `pulumi:"currentDiskSize"`
	// The database engine type and version. The **databaseVersion** field cannot be changed after instance creation.
	DatabaseVersion *InstanceDatabaseVersion `pulumi:"databaseVersion"`
	// Disk encryption configuration specific to an instance.
	DiskEncryptionConfiguration *DiskEncryptionConfiguration `pulumi:"diskEncryptionConfiguration"`
	// Disk encryption status specific to an instance.
	DiskEncryptionStatus *DiskEncryptionStatus `pulumi:"diskEncryptionStatus"`
	// The name and status of the failover replica.
	FailoverReplica *InstanceFailoverReplica `pulumi:"failoverReplica"`
	// The Compute Engine zone that the instance is currently serving from. This value could be different from the zone that was specified when the instance was created if the instance has failed over to its secondary zone. WARNING: Changing this might restart the instance.
	GceZone *string `pulumi:"gceZone"`
	// The instance type.
	InstanceType *InstanceInstanceType `pulumi:"instanceType"`
	// The assigned IP addresses for the instance.
	IpAddresses []IpMapping `pulumi:"ipAddresses"`
	// This is always **sql#instance**.
	Kind *string `pulumi:"kind"`
	// The name of the instance which will act as primary in the replication setup.
	MasterInstanceName *string `pulumi:"masterInstanceName"`
	// The maximum disk size of the instance in bytes.
	MaxDiskSize *string `pulumi:"maxDiskSize"`
	// Name of the Cloud SQL instance. This does not include the project ID.
	Name *string `pulumi:"name"`
	// Configuration specific to on-premises instances.
	OnPremisesConfiguration *OnPremisesConfiguration `pulumi:"onPremisesConfiguration"`
	// This field represents the report generated by the proactive database wellness job for OutOfDisk issues. * Writers: * the proactive database wellness job for OOD. * Readers: * the proactive database wellness job
	OutOfDiskReport *SqlOutOfDiskReport `pulumi:"outOfDiskReport"`
	// The project ID of the project containing the Cloud SQL instance. The Google apps domain is prefixed if applicable.
	Project *string `pulumi:"project"`
	// The geographical region. Can be: * **us-central** (**FIRST_GEN** instances only) * **us-central1** (**SECOND_GEN** instances only) * **asia-east1** or **europe-west1**. Defaults to **us-central** or **us-central1** depending on the instance type. The region cannot be changed after instance creation.
	Region *string `pulumi:"region"`
	// Configuration specific to failover replicas and read replicas.
	ReplicaConfiguration *ReplicaConfiguration `pulumi:"replicaConfiguration"`
	// The replicas of the instance.
	ReplicaNames []string `pulumi:"replicaNames"`
	// Initial root password. Use only on creation.
	RootPassword *string `pulumi:"rootPassword"`
	// The status indicating if instance satisfiesPzs. Reserved for future use.
	SatisfiesPzs *bool `pulumi:"satisfiesPzs"`
	// The start time of any upcoming scheduled maintenance for this instance.
	ScheduledMaintenance *SqlScheduledMaintenance `pulumi:"scheduledMaintenance"`
	// The Compute Engine zone that the failover instance is currently serving from for a regional instance. This value could be different from the zone that was specified when the instance was created if the instance has failed over to its secondary/failover zone. Reserved for future use.
	SecondaryGceZone *string `pulumi:"secondaryGceZone"`
	// The URI of this resource.
	SelfLink *string `pulumi:"selfLink"`
	// SSL configuration.
	ServerCaCert *SslCertType `pulumi:"serverCaCert"`
	// The service account email address assigned to the instance. This property is read-only.
	ServiceAccountEmailAddress *string `pulumi:"serviceAccountEmailAddress"`
	// The user settings.
	Settings *Settings `pulumi:"settings"`
	// The current serving state of the Cloud SQL instance.
	State *InstanceStateEnum `pulumi:"state"`
	// If the instance state is SUSPENDED, the reason for the suspension.
	SuspensionReason []InstanceSuspensionReasonItem `pulumi:"suspensionReason"`
}

// The set of arguments for constructing a Instance resource.
type InstanceArgs struct {
	// The backend type. **SECOND_GEN**: Cloud SQL database instance. **EXTERNAL**: A database server that is not managed by Google. This property is read-only; use the **tier** property in the **settings** object to determine the database type.
	BackendType InstanceBackendTypePtrInput
	// Connection name of the Cloud SQL instance used in connection strings.
	ConnectionName pulumi.StringPtrInput
	// The current disk usage of the instance in bytes. This property has been deprecated. Use the "cloudsql.googleapis.com/database/disk/bytes_used" metric in Cloud Monitoring API instead. Please see [this announcement](https://groups.google.com/d/msg/google-cloud-sql-announce/I_7-F9EBhT0/BtvFtdFeAgAJ) for details.
	CurrentDiskSize pulumi.StringPtrInput
	// The database engine type and version. The **databaseVersion** field cannot be changed after instance creation.
	DatabaseVersion InstanceDatabaseVersionPtrInput
	// Disk encryption configuration specific to an instance.
	DiskEncryptionConfiguration DiskEncryptionConfigurationPtrInput
	// Disk encryption status specific to an instance.
	DiskEncryptionStatus DiskEncryptionStatusPtrInput
	// The name and status of the failover replica.
	FailoverReplica InstanceFailoverReplicaPtrInput
	// The Compute Engine zone that the instance is currently serving from. This value could be different from the zone that was specified when the instance was created if the instance has failed over to its secondary zone. WARNING: Changing this might restart the instance.
	GceZone pulumi.StringPtrInput
	// The instance type.
	InstanceType InstanceInstanceTypePtrInput
	// The assigned IP addresses for the instance.
	IpAddresses IpMappingArrayInput
	// This is always **sql#instance**.
	Kind pulumi.StringPtrInput
	// The name of the instance which will act as primary in the replication setup.
	MasterInstanceName pulumi.StringPtrInput
	// The maximum disk size of the instance in bytes.
	MaxDiskSize pulumi.StringPtrInput
	// Name of the Cloud SQL instance. This does not include the project ID.
	Name pulumi.StringPtrInput
	// Configuration specific to on-premises instances.
	OnPremisesConfiguration OnPremisesConfigurationPtrInput
	// This field represents the report generated by the proactive database wellness job for OutOfDisk issues. * Writers: * the proactive database wellness job for OOD. * Readers: * the proactive database wellness job
	OutOfDiskReport SqlOutOfDiskReportPtrInput
	// The project ID of the project containing the Cloud SQL instance. The Google apps domain is prefixed if applicable.
	Project pulumi.StringPtrInput
	// The geographical region. Can be: * **us-central** (**FIRST_GEN** instances only) * **us-central1** (**SECOND_GEN** instances only) * **asia-east1** or **europe-west1**. Defaults to **us-central** or **us-central1** depending on the instance type. The region cannot be changed after instance creation.
	Region pulumi.StringPtrInput
	// Configuration specific to failover replicas and read replicas.
	ReplicaConfiguration ReplicaConfigurationPtrInput
	// The replicas of the instance.
	ReplicaNames pulumi.StringArrayInput
	// Initial root password. Use only on creation.
	RootPassword pulumi.StringPtrInput
	// The status indicating if instance satisfiesPzs. Reserved for future use.
	SatisfiesPzs pulumi.BoolPtrInput
	// The start time of any upcoming scheduled maintenance for this instance.
	ScheduledMaintenance SqlScheduledMaintenancePtrInput
	// The Compute Engine zone that the failover instance is currently serving from for a regional instance. This value could be different from the zone that was specified when the instance was created if the instance has failed over to its secondary/failover zone. Reserved for future use.
	SecondaryGceZone pulumi.StringPtrInput
	// The URI of this resource.
	SelfLink pulumi.StringPtrInput
	// SSL configuration.
	ServerCaCert SslCertTypePtrInput
	// The service account email address assigned to the instance. This property is read-only.
	ServiceAccountEmailAddress pulumi.StringPtrInput
	// The user settings.
	Settings SettingsPtrInput
	// The current serving state of the Cloud SQL instance.
	State InstanceStateEnumPtrInput
	// If the instance state is SUSPENDED, the reason for the suspension.
	SuspensionReason InstanceSuspensionReasonItemArrayInput
}

func (InstanceArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*instanceArgs)(nil)).Elem()
}

type InstanceInput interface {
	pulumi.Input

	ToInstanceOutput() InstanceOutput
	ToInstanceOutputWithContext(ctx context.Context) InstanceOutput
}

func (*Instance) ElementType() reflect.Type {
	return reflect.TypeOf((*Instance)(nil))
}

func (i *Instance) ToInstanceOutput() InstanceOutput {
	return i.ToInstanceOutputWithContext(context.Background())
}

func (i *Instance) ToInstanceOutputWithContext(ctx context.Context) InstanceOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InstanceOutput)
}

type InstanceOutput struct{ *pulumi.OutputState }

func (InstanceOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*Instance)(nil))
}

func (o InstanceOutput) ToInstanceOutput() InstanceOutput {
	return o
}

func (o InstanceOutput) ToInstanceOutputWithContext(ctx context.Context) InstanceOutput {
	return o
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*InstanceInput)(nil)).Elem(), &Instance{})
	pulumi.RegisterOutputType(InstanceOutput{})
}
