// *** WARNING: this file was generated by the Pulumi SDK Generator. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package v1

import (
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Checks the status of a test matrix. May return any of the following canonical error codes: - PERMISSION_DENIED - if the user is not authorized to read project - INVALID_ARGUMENT - if the request is malformed - NOT_FOUND - if the Test Matrix does not exist
func LookupTestMatrix(ctx *pulumi.Context, args *LookupTestMatrixArgs, opts ...pulumi.InvokeOption) (*LookupTestMatrixResult, error) {
	var rv LookupTestMatrixResult
	err := ctx.Invoke("google-native:testing/v1:getTestMatrix", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

type LookupTestMatrixArgs struct {
	Project      *string `pulumi:"project"`
	TestMatrixId string  `pulumi:"testMatrixId"`
}

type LookupTestMatrixResult struct {
	// Information about the client which invoked the test.
	ClientInfo ClientInfoResponse `pulumi:"clientInfo"`
	// The devices the tests are being executed on.
	EnvironmentMatrix EnvironmentMatrixResponse `pulumi:"environmentMatrix"`
	// If true, only a single attempt at most will be made to run each execution/shard in the matrix. Flaky test attempts are not affected. Normally, 2 or more attempts are made if a potential infrastructure issue is detected. This feature is for latency sensitive workloads. The incidence of execution failures may be significantly greater for fail-fast matrices and support is more limited because of that expectation.
	FailFast bool `pulumi:"failFast"`
	// The number of times a TestExecution should be re-attempted if one or more of its test cases fail for any reason. The maximum number of reruns allowed is 10. Default is 0, which implies no reruns.
	FlakyTestAttempts int `pulumi:"flakyTestAttempts"`
	// Describes why the matrix is considered invalid. Only useful for matrices in the INVALID state.
	InvalidMatrixDetails string `pulumi:"invalidMatrixDetails"`
	// Output Only. The overall outcome of the test. Only set when the test matrix state is FINISHED.
	OutcomeSummary string `pulumi:"outcomeSummary"`
	// The cloud project that owns the test matrix.
	Project string `pulumi:"project"`
	// Where the results for the matrix are written.
	ResultStorage ResultStorageResponse `pulumi:"resultStorage"`
	// Indicates the current progress of the test matrix.
	State string `pulumi:"state"`
	// The list of test executions that the service creates for this matrix.
	TestExecutions []TestExecutionResponse `pulumi:"testExecutions"`
	// Unique id set by the service.
	TestMatrixId string `pulumi:"testMatrixId"`
	// How to run the test.
	TestSpecification TestSpecificationResponse `pulumi:"testSpecification"`
	// The time this test matrix was initially created.
	Timestamp string `pulumi:"timestamp"`
}
